<!--
 - Copyright 2015-2018 Mohawk College of Applied Arts and Technology
 - 
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: justin
 - Date: 2018-6-22
 -->
<Plugin xmlns="http://santedb.org/package">
	<meta>
    <id>SanteDB.Caching.Redis</id>
		<group>Performance</group>
		<name>REDIS Memory Cache</name>
		<description>Provides shared memory caching using a REDIS server</description>
		<author>Mohawk College of Applied Arts and Technology</author>
		<version>1.9.20.0</version>
		<default>false</default>
	</meta>
  <dependencies>
    <dependency id="SanteDB.Core" version="1.1.0"/>
  </dependencies>
	<files>
		<add>SanteDB.Caching.Redis.dll</add>
		<add>StackExchange.Redis.dll</add>
	</files>
	<services>
		<add>
			<class>SanteDB.Caching.Redis.RedisCacheService, SanteDB.Caching.Redis</class>
			<provides>IDataCachingService</provides>
			<configuration sectionName="santedb.caching.redis" handler="SanteDB.Caching.Redis.Configuration.RedisConfigurationHandler, SanteDB.Caching.Redis">
				<group name="server" maxOccurs="*"  required="true">
					<label>REDIS Server</label>
					<setting name="host" type="text" default="localhost" required="true">
						<label>Server Address</label>
						<description>The location where the REDIS server is running</description>
					</setting>
					<setting name="port" type="integer" minValue="10" maxValue="65536" default="6739" required="true">
						<label>Server Port</label>
						<description>The port on which the server is listening</description>
					</setting>
				</group>
				<group name="authentication" maxOccurs="1" required="true">
					<label>Authentication</label>
					<setting name="username" type="text" required="true">
						<label>Username</label>
						<description>The name of the user to connect to the REDIS server</description>
						<icon>user</icon>
					</setting>
					<setting name="password" type="password" required="true">
						<label>Password</label>
						<description>The password to connect to the REDIS server</description>
						<icon>asterisk</icon>
					</setting>
				</group>
			</configuration>
		</add>
	</services>

</Plugin>